import{d as h,b as V,r as i,R as N,j as e,H as n,B as x,U as M,C as A,e as _,S as p}from"./index-BysYmKp9.js";import{S as H}from"./search-CIO5Blxk.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],q=h("bookmark",T);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],G=h("funnel",E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],k=h("grid-3x3",Y);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],U=h("list",P),K=()=>{const{favorites:t,removeFavorite:C,clearFavorites:F}=V(),[o,S]=i.useState(""),[d,g]=i.useState("grid"),[u,$]=i.useState("dateAdded"),[c,D]=i.useState("all"),[m,B]=i.useState(!1);i.useEffect(()=>{B(!0)},[]);const f=N.useMemo(()=>t.map(r=>({...r,category:r.category||["Fiction","Mystère","Romance","Sci-Fi","Histoire"][Math.floor(Math.random()*5)],rating:r.rating||(Math.random()*2+3).toFixed(1),pages:r.pages||Math.floor(Math.random()*400+200),isbn:r.isbn||`978-${Math.random().toString().slice(2,12)}`,publisher:r.publisher||["Gallimard","Flammarion","Seuil","Albin Michel","Grasset"][Math.floor(Math.random()*5)],publicationYear:r.publicationYear||Math.floor(Math.random()*30+1994),language:r.language||"Français",addedDaysAgo:Math.floor((new Date-new Date(r.dateAdded))/(1e3*60*60*24))})),[t]),v=r=>({Fiction:"bg-primary-100 text-primary-800 border-primary-200",Mystère:"bg-neutral-100 text-neutral-800 border-neutral-200",Romance:"bg-secondary-100 text-secondary-800 border-secondary-200","Sci-Fi":"bg-primary-200 text-primary-800 border-primary-300",Histoire:"bg-secondary-200 text-secondary-800 border-secondary-300",Biographie:"bg-green-100 text-green-800 border-green-200",Fantaisie:"bg-primary-100 text-primary-800 border-primary-200"})[r]||"bg-neutral-100 text-neutral-800 border-neutral-200",y=r=>{const a=[],l=Math.floor(r),L=r%1>=.5;for(let s=0;s<l;s++)a.push(e.jsx(p,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},s));L&&a.push(e.jsx(p,{className:"w-3 h-3 fill-yellow-400/50 text-yellow-400"},"half"));for(let s=a.length;s<5;s++)a.push(e.jsx(p,{className:"w-3 h-3 text-gray-300"},s));return a},j=r=>({Fiction:"📚",Mystère:"🔍",Romance:"💕","Sci-Fi":"🚀",Histoire:"📜",Biographie:"👤",Fantaisie:"🐉"})[r]||"📖",b=N.useMemo(()=>{let r=f.filter(a=>a.title.toLowerCase().includes(o.toLowerCase())||a.author.toLowerCase().includes(o.toLowerCase()));return c!=="all"&&(r=r.filter(a=>c==="available"?a.isAvailable:!a.isAvailable)),r.sort((a,l)=>{switch(u){case"title":return a.title.localeCompare(l.title);case"author":return a.author.localeCompare(l.author);case"dateAdded":default:return new Date(l.dateAdded)-new Date(a.dateAdded)}}),r},[f,o,u,c]),w=r=>{window.confirm("Êtes-vous sûr de vouloir retirer ce livre de vos favoris ?")&&C(r)},z=()=>{window.confirm("Êtes-vous sûr de vouloir vider votre liste de favoris ?")&&F()},R=({book:r})=>e.jsxs("div",{className:`group bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 overflow-hidden hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 ${m?"animate-fade-in":"opacity-0"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"aspect-w-3 aspect-h-4 bg-gradient-to-br from-primary-100 to-secondary-100",children:[e.jsx("img",{src:r.coverImage||"/images/book-placeholder.jpg",alt:r.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"text-2xl",children:j(r.category)})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.isAvailable?"bg-green-500/90 text-white backdrop-blur-sm":"bg-red-500/90 text-white backdrop-blur-sm"}`,children:r.isAvailable?"✓ Disponible":"✗ Indisponible"})})]}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:e.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${v(r.category)}`,children:r.category})})]}),e.jsxs("div",{className:"p-4",children:["        ",e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors",children:r.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2 flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-1 text-primary-500"}),r.author]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[y(r.rating),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",r.rating,")"]})]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),r.addedDaysAgo===0?"Aujourd'hui":`${r.addedDaysAgo}j`]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[e.jsxs("span",{children:[r.pages," pages"]}),e.jsx("span",{children:r.publicationYear})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>window.location.href=`/book/${r.id}`,className:"flex-1 bg-gradient-to-r from-primary-600 to-secondary-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:from-primary-700 hover:to-secondary-700 transform hover:scale-105 transition-all duration-200 shadow-lg",children:[e.jsx(x,{className:"w-4 h-4 inline mr-1"}),"Détails"]}),e.jsx("button",{onClick:()=>w(r.id),className:"p-2 text-red-500 hover:bg-red-50 hover:text-red-600 rounded-lg transition-all duration-200 group",title:"Retirer des favoris",children:e.jsx(n,{className:"w-4 h-4 fill-current group-hover:scale-110 transition-transform"})})]})]})]}),I=({book:r})=>e.jsx("div",{className:`group bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-4 hover:shadow-2xl hover:scale-[1.01] transition-all duration-300 ${m?"animate-fade-in":"opacity-0"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.coverImage||"/images/book-placeholder.jpg",alt:r.title,className:"w-16 h-20 object-cover rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("span",{className:"text-lg",children:j(r.category)})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:["            ",e.jsx("h3",{className:"font-bold text-gray-900 truncate group-hover:text-primary-600 transition-colors pr-2",children:r.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.isAvailable?"bg-green-500/20 text-green-700 border border-green-200":"bg-red-500/20 text-red-700 border border-red-200"}`,children:r.isAvailable?"✓ Disponible":"✗ Indisponible"})]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center mb-2",children:[e.jsx(M,{className:"w-4 h-4 mr-1 text-primary-500"}),r.author]}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${v(r.category)}`,children:r.category}),e.jsxs("div",{className:"flex items-center space-x-1",children:[y(r.rating),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",r.rating,")"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),r.pages," pages"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),r.publicationYear]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),"Ajouté ",r.addedDaysAgo===0?"aujourd'hui":`il y a ${r.addedDaysAgo}j`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:["          ",e.jsxs("button",{onClick:()=>window.location.href=`/book/${r.id}`,className:"bg-gradient-to-r from-primary-600 to-secondary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-primary-700 hover:to-secondary-700 transform hover:scale-105 transition-all duration-200 shadow-lg",children:[e.jsx(x,{className:"w-4 h-4 inline mr-1"}),"Voir détails"]}),e.jsx("button",{onClick:()=>w(r.id),className:"p-2 text-red-500 hover:bg-red-50 hover:text-red-600 rounded-lg transition-all duration-200 group",title:"Retirer des favoris",children:e.jsx(n,{className:"w-5 h-5 fill-current group-hover:scale-110 transition-transform"})})]})]})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:`mb-8 transition-all duration-500 ${m?"animate-fade-in":"opacity-0"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:["              ",e.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent flex items-center",children:[e.jsx(n,{className:"w-10 h-10 mr-3 text-red-500 fill-current animate-pulse"}),"Mes Favoris"]}),e.jsxs("p",{className:"text-gray-600 mt-2 flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-2 text-primary-500"}),"Gérez votre collection de livres favoris (",t.length," livre",t.length!==1?"s":"",")"]})]}),t.length>0&&e.jsxs("button",{onClick:z,className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx(n,{className:"w-4 h-4 inline mr-2"}),"Vider la liste"]})]})}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:["              ",e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-12 shadow-xl border border-white/20 max-w-md mx-auto",children:[e.jsx(n,{className:"w-20 h-20 text-primary-300 mx-auto mb-6 animate-pulse"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Aucun favori pour le moment"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Parcourez le catalogue et ajoutez des livres à vos favoris pour les retrouver facilement ici."}),e.jsxs("a",{href:"/catalog",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-secondary-600 text-white rounded-xl hover:from-primary-700 hover:to-secondary-700 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl font-medium",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"Parcourir le catalogue"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 p-6 mb-6 transition-all duration-300 ${m?"animate-fade-in":"opacity-0"}`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:["                ",e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",className:"w-full pl-10 pr-4 py-3 border-2 border-primary-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 bg-white/70 backdrop-blur-sm",value:o,onChange:r=>S(r.target.value)})]}),e.jsxs("div",{className:"flex gap-4",children:["                  ",e.jsxs("select",{value:u,onChange:r=>$(r.target.value),className:"px-4 py-3 border-2 border-primary-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white/70 backdrop-blur-sm transition-all duration-200",children:[e.jsx("option",{value:"dateAdded",children:"Trier par date d'ajout"}),e.jsx("option",{value:"title",children:"Trier par titre"}),e.jsx("option",{value:"author",children:"Trier par auteur"})]}),e.jsxs("select",{value:c,onChange:r=>D(r.target.value),className:"px-4 py-3 border-2 border-primary-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white/70 backdrop-blur-sm transition-all duration-200",children:[e.jsx("option",{value:"all",children:"Tous les livres"}),e.jsx("option",{value:"available",children:"Disponibles uniquement"}),e.jsx("option",{value:"unavailable",children:"Indisponibles uniquement"})]}),e.jsxs("div",{className:"flex border-2 border-primary-200 rounded-xl overflow-hidden bg-white/70 backdrop-blur-sm",children:["                    ",e.jsx("button",{onClick:()=>g("grid"),className:`p-3 transition-all duration-200 ${d==="grid"?"bg-gradient-to-r from-primary-600 to-secondary-600 text-white":"text-primary-600 hover:bg-primary-50"}`,title:"Vue grille",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>g("list"),className:`p-3 transition-all duration-200 ${d==="list"?"bg-gradient-to-r from-primary-600 to-secondary-600 text-white":"text-primary-600 hover:bg-primary-50"}`,title:"Vue liste",children:e.jsx(U,{className:"w-5 h-5"})})]})]})]})}),b.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-12 shadow-xl border border-white/20 max-w-md mx-auto",children:[e.jsx(G,{className:"w-16 h-16 text-primary-300 mx-auto mb-6"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Aucun résultat trouvé"}),e.jsx("p",{className:"text-gray-600",children:"Essayez de modifier vos critères de recherche ou de filtrage."})]})}):e.jsx("div",{className:d==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:b.map((r,a)=>d==="grid"?e.jsx("div",{style:{animationDelay:`${a*100}ms`},children:e.jsx(R,{book:r})},r.id):e.jsx("div",{style:{animationDelay:`${a*50}ms`},children:e.jsx(I,{book:r})},r.id))})]})]})})};export{K as default};
